[Unit]
Description=DayMind API (Uvicorn)
After=network.target redis-server.service
Requires=redis-server.service

[Service]
Type=simple
EnvironmentFile=-/etc/default/daymind
User=daymind
Group=daymind
WorkingDirectory=/opt/daymind
ExecStart=/opt/daymind/venv/bin/python -m uvicorn src.api.main:app --host 0.0.0.0 --port $APP_PORT --workers $APP_WORKERS
Restart=always
RestartSec=3
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
