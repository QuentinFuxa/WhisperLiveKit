[Unit]
Description=DayMind API (Uvicorn)
After=network.target redis-server.service
Requires=redis-server.service

[Service]
User=daymind
Group=daymind
WorkingDirectory=/opt/daymind
EnvironmentFile=/etc/default/daymind
Environment=PYTHONPATH=/opt/daymind
ExecStart=/opt/daymind/venv/bin/uvicorn src.api.main:app --host ${APP_HOST} --port ${APP_PORT}
Restart=on-failure
RestartSec=3

[Install]
WantedBy=multi-user.target
